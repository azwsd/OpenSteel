<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>OpenSteel</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--Include materialize and its fonts-->
        <link rel="stylesheet" href="Styles/materialize-main.css">
        <link rel="stylesheet" href="Styles/materialize-icons.css">
        <!--include main style sheet-->
        <link rel="stylesheet" href="Styles/main.css">
        <!--Removes fav icon error-->
        <link rel="shortcut icon" href="#">
    </head>
    <body>
        <!-- fixed navigation bar-->     
        <div class="navbar-fixed">
            <nav>
                <div class="nav-wrapper deep-purple darken-4">
                    <ul class="left hide-on-med-and-down">
                        <li><a href="#!" data-target="clearAllModal" class="waves-effect modal-trigger float-left">Clear all</a></li>
                        <li><a href="#" onclick="loadProfilesPage()" class="waves-effect float-left">Profiles library</a></li>
                        <li><a href="#shortcuts" data-target="shortcutsModal" class="waves-effect modal-trigger">Shortcuts</a></li>
                    </ul>
                    <div id="logo">OpenSteel</div>
                    <a href="#" data-target="mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
                    <ul class="right hide-on-med-and-down">
                        <li><a href="#about-me" data-target="aboutMeModal" class="waves-effect modal-trigger">About me</a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <!--About me modal-->
        <div id="aboutMeModal" class="modal">
            <div class="modal-content">
              <h4>Welcome to OpenSteel</h4>
                <p>An open-source project crafted with care by <b>Ahmed Mohamed Ragab</b>.</p>
                <p>OpenSteel is designed to simplify the workflow of professionals in steel detailing, CNC machining, and structural steel fabrication by providing an intuitive interface to view and explore <b>DSTV (.nc/.nc1)</b> files.</p>
                <p>In addition to NC file visualization, OpenSteel includes a comprehensive <b>Steel Profile Library</b>, allowing you to browse and reference standard steel sections with ease.</p>
                <p>Whether you're inspecting part geometry or working with steel profiles, OpenSteel brings clarity and convenience to your everyday tasks.</p>
              <div class="modal-footer">
                <a href="#!" class="modal-close waves-effect waves-red btn-flat">Close</a>
              </div>
            </div>
        </div>
        <!--Shortcuts  modal-->
        <div id="shortcutsModal" class="modal">
            <div class="modal-content">
                <h4>Shortcuts</h4>
                <ul id="shortcut-list">
                    <li><b>P</b>Pan tool</li>
                    <li><b>M</b>Measure tool</li>
                    <li><b>T</b>Toggle snap points on/off</li>
                    <li><b>C</b>Clear all measurements</li>
                    <li>
                        <b>
                        <i class="material-icons tiny">arrow_upward</i>
                        <i class="material-icons tiny">arrow_downward</i>
                        </b>
                        Navigate imported files
                    </li>
                    <li>
                        <b>
                        <i class="material-icons tiny">arrow_back</i>
                        <i class="material-icons tiny">arrow_forward</i>
                        </b>
                        Navigate hole data
                    </li>
                    <li><b>Home/End</b>Increase/Decrease snap point size</li>
                    <li><b>Page Up/Down</b>Increase/Decrease snap point distance</li>
                    <li><b>F</b>Toggle resizing and dragging of measurement text</li>
                    <li><b>S</b>Save the visible area of the active view</li>
                    <li><b>Ctrl + S</b>Save all currently visible areas of views</li>
                    <li><b>O</b>Toggle <span class="view-name">O</span> view on/off</li>
                    <li><b>V</b>Toggle <span class="view-name">V</span> view on/off</li>
                    <li><b>U</b>Toggle <span class="view-name">U</span> view on/off</li>
                    <li><b>H</b>Toggle <span class="view-name">H</span> view on/off</li>
                </ul>
                <div class="modal-footer">
                    <a href="#!" class="modal-close waves-effect waves-red btn-flat">Close</a>
                </div>
            </div>
        </div>
        <!--Clear all modal-->
        <div id="clearAllModal" class="modal">
            <div class="modal-content">
              <h4>CLEAR ALL FILES!</h4>
              <p><b>Are you sure you want to clear all files?</b></p>
              <div class="modal-footer">
                <a href="#!" class="modal-close waves-effect waves-red btn red" onclick="clearAllFiles()">Yes</a>
                <a href="#!" class="modal-close waves-effect waves-red btn green">No</a>
              </div>
            </div>
        </div>
        <!--Clear measurements modal-->
        <div id="clearMeasurementsModal" class="modal">
            <div class="modal-content">
              <h4>CLEAR ALL MEASUREMENTS!</h4>
              <p><b>Are you sure you want to clear all measurements?</b></p>
              <div class="modal-footer">
                <a href="#!" class="modal-close waves-effect waves-red btn red" onclick="clearMeasurements()">Yes</a>
                <a href="#!" class="modal-close waves-effect waves-red btn green">No</a>
              </div>
            </div>
        </div>
        <!--Mobile navbar-->
        <ul class="sidenav" id="mobile">
            <li><p class="filesPlaceHolder">Please insert a file/folder</p></li>
            <li id="sideNavClearAll"><a data-target="clearAllModal" class="sidenav-close modal-trigger waves-effect float-bottom">Clear all</a></li>
            <ul class="sideNavBottom">
                <li><a href="#" onclick="downloadActiveViews()" class="waves-effect float-left">Download active views</a></li>
                <li><a href="#" onclick="loadProfilesPage()" class="waves-effect float-left">Profiles library</a></li>
                <li><a href="#about-me" data-target="aboutMeModal" class="sidenav-close modal-trigger float-bottom">About me</a></li>
            </ul>
        </ul>
        
        <main>
            <div class="row">
                <div class="col l2 hide-on-med-and-down deep-purple lighten-2" id="files">
                    <p class="filesPlaceHolder">Please insert a file/folder</p>
                </div>
                <div class="col l8 m12 s12" id="view">
                    <!-- Dropdown Structure -->
                    <ul id="historyDropdown" class="dropdown-content">
                    </ul>
                    <ul id="viewsDropdown" class="dropdown-content">
                        <li><a class="deep-purple-text viewSwitch tooltipped lighten-3" data-position="left" data-tooltip="Turn ON" data-view="o">O</a></li>
                        <li><a class="deep-purple-text viewSwitch tooltipped lighten-3" data-position="left" data-tooltip="Turn ON" data-view="v">V</a></li>
                        <li><a class="deep-purple-text viewSwitch tooltipped lighten-3" data-position="left" data-tooltip="Turn ON" data-view="u">U</a></li>
                        <li><a class="deep-purple-text viewSwitch tooltipped lighten-3" data-position="left" data-tooltip="Turn ON" data-view="h">H</a></li>
                    </ul>
                    <ul id="settingsDropdown" class="dropdown-content">
                        <li class="settings-item">
                            <span class="deep-purple-text lighten-3">Snap point size:</span>
                            <input type="number" class="browser-default" id="snapSize">
                        </li>
                        <li class="settings-item">
                            <span class="deep-purple-text lighten-3">Snap point distance:</span>
                            <input type="number" class="browser-default" id="snapDistance">
                        </li>
                        <li class="settings-item">
                            <span class="deep-purple-text lighten-3">Snap point Color:</span>
                            <input type="color" id="snapPointColor">
                        </li>
                        <li class="settings-item">
                            <span class="deep-purple-text lighten-3">Origin point Color:</span>
                            <input type="color" id="originPointColor">
                        </li>
                        <li class="settings-item">
                            <span class="deep-purple-text lighten-3">Measurement line color:</span>
                            <input type="color" id="measurementColor">
                        </li>
                        <li class="settings-item">
                            <span class="deep-purple-text lighten-3">Measurement text color:</span>
                            <input type="color" id="measurementTextColor">
                        </li>
                        <li class="settings-item">
                            <span class="deep-purple-text lighten-3">Measurement text Transform:</span>
                            <label>
                                <input type="checkbox" id="measurementTextTransform">
                                <span for="measurementTextTransform"></span>
                            </label>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#" class="waves-effect waves-light grey-text text-lighten-5 lighten-1 center-align deep-purple" id="saveSettings">Apply</a>
                        </li>
                    </ul>
                    <!-- Function Buttons -->
                    <div id="functionButtons">
                        <a class="waves-effect waves-light btn-small tooltipped deep-purple" data-position="bottom" data-tooltip="Pan" id="panTool" onclick="activatePanTool()">
                            <i class="material-icons">pan_tool</i>
                        </a>
                        <a class="waves-effect waves-light btn-small tooltipped deep-purple lighten-3" data-position="bottom" data-tooltip="Measure" id="measureTool" onclick="activateMeasureTool()">
                            <i class="material-icons">keyboard_tab</i>
                        </a>
                        <a class="waves-effect waves-light btn-small tooltipped deep-purple lighten-3" data-position="bottom" data-tooltip="Toggle snap points" id="toggleSnap" onclick="toggleSnapIndicators()">
                            <i class="material-icons">remove_red_eye</i>
                        </a>
                        <a class="waves-effect waves-light btn-small modal-trigger deep-purple" data-position="bottom" data-tooltip="Clear Measurements" id="clearMeasurements" href="#clearMeasurementsModal" data-target="clearMeasurementsModal">
                            <i class="material-icons">delete</i>
                        </a>
                        <!-- Dropdown Trigger -->
                        <a class="waves-effect waves-light btn-small tooltipped deep-purple dropdown-trigger lighten-3" data-position="bottom" data-tooltip="Measurement history" id="historyDropdownBtn" data-target="historyDropdown">
                            <i class="material-icons">history</i>
                        </a>
                        <a class="waves-effect waves-light btn-small deep-purple dropdown-trigger" id="viewsDropDownBtn" data-target="viewsDropdown">
                            Views <i class="material-icons right hide-on-small-only">arrow_drop_down</i>
                        </a>
                        <a class="waves-effect waves-light btn-small deep-purple dropdown-trigger" id="settingsDropDownBtn" data-target="settingsDropdown">
                            <i class="material-icons">settings</i>
                            <i class="material-icons right hide-on-small-only">arrow_drop_down</i>
                        </a>
                    </div>
                    <P id="oViewTitle">Top view (O)</P>
                    <div id="o-view" class="view z-depth-3"></div>
                    <P id="vViewTitle">Web/Front view (V)</P>
                    <div id="v-view" class="view z-depth-3"></div>
                    <P id="uViewTitle">Bottom view (U)</P>
                    <div id="u-view" class="view z-depth-3"></div>
                    <P id="hViewTitle">Behind view (H)</P>
                    <div id="h-view" class="view z-depth-3"></div>
                </div>
                <div class="col l2 m12 s12 deep-purple lighten-2" id="properties">
                    <ul class="tabs">
                        <li class="tab col s6"><a href="#tab1" class="active deep-purple lighten-2">Properties</a></li>
                        <li class="tab col s6"><a href="#tab2" class="deep-purple lighten-2">Hole Info</a></li>
                    </ul>
                    <div id="tab1" class="tab-content">
                        <div id="Project"><h5>Project:</h5><p>N/A</p></div>
                        <div id="Draswing"><h5>Drawing:</h5><p>N/A</p></div>
                        <div id="Phase"><h5>Phase:</h5><p>N/A</p></div>
                        <div id="Piece"><h5>Piece:</h5><p>N/A</p></div>
                        <div id="Grade"><h5>Grade:</h5><p>N/A</p></div>
                        <div id="Quantity"><h5>Quantity:</h5><p>N/A</p></div>
                        <div id="Profile"><h5>Profile:</h5><p>N/A</p></div>
                        <div id="Code"><h5>Profile code:</h5><p>N/A</p></div>
                        <div id="Length"><h5>Length:</h5><p>N/A</p><p> mm</p></div>
                        <div id="Height"><h5>Height:</h5><p>N/A</p><p> mm</p></div>
                        <div id="flangeWidth"><h5>Flange width:</h5><p>N/A</p><p> mm</p></div>
                        <div id="flangeThickness"><h5>Flange thickness:</h5><p>N/A</p><p> mm</p></div>
                        <div id="webThickness"><h5>Web thichness:</h5><p>N/A</p><p> mm</p></div>
                        <div id="Radius"><h5>Radius:</h5><p>N/A</p><p> mm</p></div>
                        <div id="weight"><h5>Weight by meter:</h5><p>N/A</p><p> kg/m</p></div>
                        <div id="Surface"><h5>Painting surface by meter:</h5><p>N/A</p><p> m2/m</p></div>
                        <div id="webCutStart"><h5>Web start cut:</h5><p>N/A</p><p> degrees</p></div>
                        <div id="webCutEnd"><h5>Web end cut:</h5><p>N/A</p><p> degrees</p></div>
                        <div id="flangeCutStart"><h5>Flange start cut:</h5><p>N/A</p><p> degrees</p></div>
                        <div id="flangeCutEnd"><h5>Flange end cut:</h5><p>N/A</p><p> degrees</p></div>
                        <div id="textInfo1"><h5>Text info:</h5><p>N/A</p></div>
                        <div id="textInfo2"><h5>Text info:</h5><p>N/A</p></div>
                        <div id="textInfo3"><h5>Text info:</h5><p>N/A</p></div>
                        <div id="textInfo4"><h5>Text info:</h5><p>N/A</p></div>
                        <div><img class="materialboxed" id="profileViewsImg" src=""></div>
                    </div>
                    <div id="tab2" class="tab-content">
                        <div id="holeInfoContainer" class="holeInfoContainer"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <div class="fixed-action-btn">
            <a class="btn-floating btn-large deep-purple darken-4">
                <i class="large material-icons tooltipped" data-position="left" data-tooltip="Insert" onclick="insert_file(this)"><input type="file" hidden id="fileInput" placeholder="File input" directory multiple>insert_drive_file</i>
            </a>
        </div>
        
        <!--Includes js file for materialize-->
        <script src="Scripts/materialize-main.js"></script>
        <!--Includes js file for konva-->
        <script src="Scripts/konva.min.js"></script>
        <!--Includes js file for jszip-->
        <script src="Scripts/jszip.min.js"></script>
        <!--Custom js files-->
        <script src="Scripts/konva-scripts.js"></script>
        <script src="Scripts/blocDrawer.js"></script>
        <script src="Scripts/fileHandler.js"></script>
        <script src="Scripts/materialize-scripts.js"></script>
        <script src="Scripts/ncFileParser.js"></script>
        <script src="Scripts/main.js"></script>
    </body>
</html>